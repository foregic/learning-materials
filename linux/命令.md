### gcc命令

|         |                                                              |
| ------- | ------------------------------------------------------------ |
| -c      | 激活预处理、编译和汇编，生成obj文件                          |
| -C      | 预处理的时候不删除注释信息，一般和-E使用，方便分析程序       |
| -E      | 激活预处理，不生成文件，需要重定向到一个输出文件里           |
| -g      | 在编译时生成调试信息，用于gdb                                |
| -o      | 指定目标名称。默认编译出来的可执行文件是a.out                |
| -S      | 激活预处理和编译，生成汇编代码                               |
| -Wall   | 生成警告信息                                                 |
| -O      | 对程序进行优化编译、链接。产生的可执行文件执行效率会更高，但是编译、链接速度会变慢，一半用于编译发行版 |
| -O2     | 比-O更好的优化编译、链接，但是速度更慢                       |
| -l      | linux库文件命名时以lib字母开头，所有库文件都遵守了，所以编译指定链接的库文件可以省略lib三个字母，如gcc在对-lfoo进行处理时会自动链接名为libfoo.so的文件 |
| -L      |                                                              |
| -static | gcc默认优先使用动态链接库，只有动态链接库不存在时才使用静态链接库，动态链接库(.so)和静态链接库(.a)。-static强制使用静态链接库 |
| -shared | 共享的目标文件，能够与其他的目标一起链接生成一个可执行文件   |
#### 编译静态链接库

```shell
# 第一步，编辑源文件test.c
# 第二步，生成test.o文件
$ gcc -c test.c
# 第三步，由.o文件创建静态库
$ ar -rcs test.a test.o
# 可以用nm查看test.a种的内容，ar -t也可以
$ nm test.a
$ ar -t test.a
# 第四步，在程序中使用静态库
$ gcc main.c -L -l test.a
# 第五步执行
$ ./a.out
```

#### 编译动态库

```shell
# 第一步，编辑源文件
# 第二步由test.c文件创建动态库文件
$ gcc -fPIC	-shared -o test.so test.c # 一定要使用-o重命名，不然输出文件默认为a.out
# 也可以使用nm命令查看动态库内容
$ nm test.so
# 第三部，在程序中使用动态库
$ gcc main.c -L -l ./test.so # 使用相对路径或绝对路径
# 第四步，执行
$ ./a.out
```

### ldd命令：查看可执行程序依赖的共享库

|      |                                                          |
| ---- | -------------------------------------------------------- |
| -d   | 执行重定位和报告任何丢失的对象                           |
| -r   | 执行数据独享和函数的重定位，并且报告任何丢失的对象和函数 |
| -u   | 打印未使用的直接依赖                                     |
| -v   | 详细模式，打印所有相关信息                               |

### gdb命令

|      |      |
| ---- | ---- |
|      |      |
|      |      |
|      |      |



### size命令：输出输入文件各段及其总和的大小

如：size test.o或者size a.out

|      |      |
| ---- | ---- |
| size |      |
|      |      |
|      |      |

### netstat命令

|                  |                                            |
| ---------------- | ------------------------------------------ |
| -a               | 显示所有连线中的Socket。                   |
| -s或--statistics | 显示网络工作信息统计表。                   |
| -t               | 显示TCP传输协议的连线状况。                |
| -u               | 显示UDP传输协议的连线状况。                |
| -l               | 显示监控中的服务器的Socket。               |
| -n或--numeric    | 直接使用IP地址，而不通过域名服务器。       |
| -p或--programs   | 显示正在使用Socket的程序识别码和程序名称。 |

