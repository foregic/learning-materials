<h1 style="text-align:center;background:;">计算机网络</h1>

>[视频来源：b站中科大计算机网络](https://www.bilibili.com/video/BV1JV411t7ow)




原理：每一层提供接口供上层使用
		实例：网络层-传输层-应用层

可靠reliable：不出错不重复不丢失不失序

对可靠性要求高：TCP协议
		对可靠性要求不高，对实时性要求高：UDP协议

检错重传、超时重传、编号、校验、乱序排序占据接收方发送方空间，消耗时间，实时多媒体对时间要求非常高。
		网络直播，实时多媒体，事物性应用

远程应用进程，报文交互，应用层协议，主机联网，远程的应用进程之间相互的通讯应该遵守的规则核协议。
		浏览器和服务：规范好定义好两者之间交互的语法、语义和时序。

传输层为应用进程提供服务，传输层实在网络层提供的端到端的服务基础上进行实现的。端到端指的主机到主机，网络层提供的源主机到目标主机之间的IP数据包。主机到主机要经过好多路由器和交换机。提供的服务是主机到主机的，是尽力而为的，best ever，没有任何保障。IP层能不能传到，会不会出错，乱不乱序，肯定乱序。
传输层是在网络层提供的服务基础上，主机到主机细分为进程到进程，把IP层提供的不可靠的服务通过TCP协议变成可靠的服务。
网络层：端到端，包括了若干个点到点，point to point，数字链路层相邻的两点之间的传输服务基础上实现，网卡所提供的数据链路层点到点。物理层：把数字的信号变成物理信号
传输层：end to end

网络层：

* 传统方式：
  * IP协议，根据到来的路由表，IP分组，到底往哪走，转发，路由：由路由协议交换路由信息，由路由算法算出路由表，由IP协议对到来的分组做转发的处理
  * 路由协议，路由实体与其他路由实体交换报文，路由选择算法，算出路由表，IP的子网，该怎么走，给IP使用
    来了一个IP分组，有目标IP地址，跟路由算出来的路由表做匹配，判断IP落在哪个表项，表项中描述了这个IP应该从哪个端口放出去。
    因此IP的路由器包括了算出来的路由信息，哪些IP的子网该往哪边走。
    查路由表，查到了转发；查不到，按照默认的路径转走。路由器设置好就不会变的。
    缺点：升级，实现新的功能，基本不可能。设计问题，无法添加新功能。
* SDN：软件定义网络，弹性，更加灵活
  * 数据平面：交换机
    流表上载，根据流表描述的行为，动作这个分组
  * 控制平面：网络操作系统
    流表，flow table：目标IP、源IP……



### 



### 概论:计算机网络和因特网

edge core access
Internet，互联网/网际：实际是由一堆网络构成，通过网络互联设备（路由器）连载一起的网络的网络。
互联网工作是IP分组交换工作：网络分组交换必然涉及丢包、分组传输延迟（四大延迟）、吞吐量（性能指标，定义）
一层一层解决，每一层实现一组特定功能，上一层借助下一层提供的服务，通过与对等层协议实体，相互交换协议报文来实现的，目的：为了向上一层提供更好的服务。应用层借助传输层提供的服务，交换应用报文实现各种应用功能。
分层体系架构：
链路层：传输相邻两个节点之间以帧为单位的数据。
网络层：在链路层实现的相邻两点之间传输服务的基础上源主机到目标主机之间的传输。端到端的数据传输。比较粗糙，丢包、出错、失序、错误。尽力而为IP
传输层：在网络层提供的服务上加强了服务，细分服务，从主机到主机的服务细分成进程到进程，把它从不可靠变成了可靠。TCP/UDP
应用层：按照应用层协议交换应用报文，目的：实现各种各样的网络应用。


网络：节点和边的关系，和大小无关的关系的图
计算机网络：由联网的计算机构成的系统
节点包括主机节点（手机，电脑，冰箱，web服务器）方的
数据交换节点（路由器交换机），转发数据，既不是源也不是目标 圆的
边也分为两类：主机通过边接入网络，叫接入电路
交换机之间的骨干电路

协议：支持互联网工作的标准
互联网：以TCP/IP协议为主一簇协议，由这些协议支撑起的网络就叫互联网

端系统：硬件、操作系统、网络应用
设备本身，操作系统，操作系统驻留的网络应用
host end 方的
switch 路由器 负载均衡设备 圆的

协议就是标准
对等层的实体在通信过程中应该遵守的标准
IETF
协议定了在两个或多个通信实体之间交换的报文格式和次序，以及在报文传输和/或接受或其他事件方面所采取的的动作。（语法和语义，时序和动作）
PDU（protocol data unit）
互联网是分布式应用进程，以及为分布式应用进程提供服务的基础设施
socketAPI（网络API）

面向连接的可靠服务（TCP）和无连接的不可靠服务（UDP）


#### 网络边缘
网络结构：
- 网络边缘edge
  - 主机
  - 应用程序（客户端和服务器）
- 网络核心core 所有的边缘节点接在一起
  - 互连着的路由器
  - 网络的网络
  - 数据交换作用
- 接入网、物理媒体：access
  - 有线或者无线通信链路 把边缘接入到核心

网络边缘：
- 端系统
  - 运行应用程序
  - 个人pc、手机等
- 客户端/服务器
  - 客户端向服务器发送请求
  - 服务器接收请求
  - 可扩展性较差，
  - 到达阈值断崖式下降 
  - 可靠性差
- 对等模式p2p（peer-peer） 
  - 没有专门的服务器
  - 每个节点既是客户端也是服务器，通信是分布式的，多用在文件分发系统中
  - 下载文件片段1从服务器1，片段2从服务器2等等


- 采用网络设施面向连接的服务：
  - TCP
  - 握手：数据传输之前做好准备
  - 可靠，不重复不失序不出错不乱序
  - 可靠地、按顺序传送数据
    - 确认和重传
    - 保序
  - 流量控制
    - 发送方不会淹没接收方
  - 拥塞控制
    - 当网络拥塞时，发送方降低发送速率
- 无连接的服务
  - UDP
    - 无连接
    - 不可靠数据传输
    - 无流量控制
    - 无拥塞控制
  - HTTP（Web）FTP（文件传送）
  - 流媒体、远程会议、DNS、Internet电话
  - 事务性应用，查询过去结果回来
  - 网络实时多媒体应用




#### 网络核心
网络核心：路由器的网状网络
- 电路交换：预留专有电路
- 分组交换
  - 存储转发
  - 将要传送的数据分成一个个单位，分组
  - 一段一段经由路由器和交换机从源主机传送到目标主机

电路交换：通常用于电话网络
要求建立呼叫连接
专用资源、不共享
保证性能
通信建立时间
网络资源（如贷款）被分成片
  - 频分交换节点之间的链路有效频率覆盖范围通过频分划分成若干小片两个主机在通信之间分一片 FDM
  - 时分线路使用时间划分成很多个T，每个T划分时间片，分一片TDM
  - 波分波段分成若干个小波段 WDM

电路交换不适合计算机之间通信
连接建立时间长
通信有突发性，浪费的片比较多
不是一直在使用

分组交换：
用就用所有，使用带宽的全部
全部接受存储进来再传给下一个节点 存储转发分为一个个包，完全存下来
按需使用
主机和主机之间的通信分组
换取共享性
耽误存储时间和排队时间
排队延迟
丢失：如果路由器缓存用完了，分组将会被抛弃

网络核心的关键功能：
- 路由：决定分组采用的源到目标的路径
  - 路径算法
- 转发：将分组从路由器的输入链路转移到输出链路

分组交换：
- 统计多路复用
  - 复用链路资源
- 划分时间片不固定
- 分组交换支持的用户数更多，在突发性请求的情况下

| 分组交换  |电路交换 | 
| --- | ---- | 
|适用于突发式数据传输，资源共享，简单不建立连接时间|资源不共享，要建立呼叫时间|
|过度使用会造成网络拥塞：分组延时和丢失`拥塞控制`|无分组延时和丢失|

分组交换网络：存储-转发
分组交换：分组的存储转发一段一段从源主机到目标主机按照有无网络层的连接：分为
- 数据报网络
  - 分组的目标地址决定下一跳
  - 在不同阶段，路由可以改变
  - 类似问路
  - Internet
- 虚电路网络
  - 每个分组都带标签（虚电路表示VC ID），标签决定下一跳
  - 在呼叫建立时决定路径，在整个呼叫中路径保持不变
  - 路由器维持每个呼叫的状态信息
  - X25和ATM

数据报工作原理
不建立连接：有数据就传输
每一个分组都独立路由：路径不一样，可能会失序
根据分组的目标地址进行路由

虚电路
根据虚电路表项存储转发

通信网络
- 电路交换网络
  - FDM
  - TDM
- 分组交换网络
  - 虚电路网络
  - 数据报网络





#### 接入网和物理媒体

住宅接入：modem
上网数据加载到音频信号上
调制和解调
调频、调幅、调相位、综合调制、带宽很窄

接入网（digital subscriber line，DSL）
采用现存的到交换局DSLAM的电话线
分上下行

接入网：线缆网络
非对称
有线电视信号线缆双向改造
各用户共享到线缆头端的接入网络

无线接入网络
无线LAN
广域无线接入

物理媒体
5类100M bps
G pbs千兆以太网
6类10G bps万兆以太网
同轴电缆、光纤
光纤：低误码率两个中继器之间可以有很长的距离，不受电磁噪声干扰、告诉、每个光脉冲表示一个bit、安全。光缆割开才能获取
传播环境效应：反射、吸收、干扰






#### Internet结构和ISP

#### 分组延时、丢失和吞吐量

#### 协议层次及服务模型


#### 历史



















### 应用层

### 运输层

### 网络层：数据平面

### 网络层：控制平面

### 链路层：链路、接入网和局域网

### 网络安全

### 无线网络和移动网络

### 多媒体网络

### 网络管理

